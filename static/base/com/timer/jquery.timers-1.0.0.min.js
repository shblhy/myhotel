;$.fn.extend({everyTime:function(_,B,C,A,D){return this.each(function(){$.timer.add(this,_,B,C,A,D)})},oneTime:function(_,A,B){return this.each(function(){$.timer.add(this,_,A,B,1)})},stopTime:function(_,A){return this.each(function(){$.timer.remove(this,_,A)})}});$.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{"ms":1,"cs":10,"ds":100,"s":1000,"das":10000,"hs":100000,"ks":1000000},timeParse:function(C){if(C==undefined||C==null)return null;var _=this.regex.exec($.trim(C.toString()));if(_[2]){var B=parseInt(_[1],10),A=this.powers[_[2]]||1;return B*A}else return C},add:function(_,A,D,E,B,F){var C=0;if($.isFunction(D)){if(!B)B=E;E=D;D=A}A=$.timer.timeParse(A);if(typeof A!="number"||isNaN(A)||A<=0)return;if(B&&B.constructor!=Number){F=!!B;B=0}B=B||0;F=F||false;if(!_.$timers)_.$timers={};if(!_.$timers[D])_.$timers[D]={};E.$timerID=E.$timerID||this.guid++;var G=function(){if(F&&this.inProgress)return;this.inProgress=true;if((++C>B&&B!==0)||E.call(_,C)===false)$.timer.remove(_,D,E);this.inProgress=false};G.$timerID=E.$timerID;if(!_.$timers[D][E.$timerID])_.$timers[D][E.$timerID]=window.setInterval(G,A);if(!this.global[D])this.global[D]=[];this.global[D].push(_)},remove:function(_,B,C){var A=_.$timers,$;if(A){if(!B){for(B in A)this.remove(_,B,C)}else if(A[B]){if(C){if(C.$timerID){window.clearInterval(A[B][C.$timerID]);delete A[B][C.$timerID]}}else for(var C in A[B]){window.clearInterval(A[B][C]);delete A[B][C]}for($ in A[B])break;if(!$){$=null;delete A[B]}}for($ in A)break;if(!$)_.$timers=null}}}});if($.browser.msie)$(window).one("unload",function(){var _=$.timer.global;for(var A in _){var B=_[A],C=B.length;while(--C)$.timer.remove(B[C],A)}})