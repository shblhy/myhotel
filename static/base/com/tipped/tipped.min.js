;var Tipped={version:"3.1.3"};Tipped.Skins={"base":{afterUpdate:false,ajax:{cache:true,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:0,fadeOut:0,showDelay:75,hideDelay:25,radius:{size:5,position:"background"},hideAfter:false,hideOn:{element:"self",event:"mouseleave"},hideOthers:false,hook:"topleft",inline:false,offset:{x:0,y:0},onHide:false,onShow:false,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:0.12},showOn:"mousemove",spinner:true,stem:{height:9,width:18,offset:{x:9,y:9},spacing:2},target:"self"},"reset":{ajax:false,closeButton:false,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:true},"dark":{background:{color:"#282828"},border:{color:"#9b9b9b",opacity:0.4,size:1},shadow:{opacity:0.02},spinner:{color:"#fff"}},"light":{background:{color:"#fff"},border:{color:"#646464",opacity:0.4,size:1},shadow:{opacity:0.04}},"gray":{background:{color:[{position:0,color:"#8f8f8f"},{position:1,color:"#808080"}]},border:{color:"#131313",size:1,opacity:0.6}},"tiny":{background:{color:"#161616"},border:{color:"#969696",opacity:0.35,size:1},fadeIn:0,fadeOut:0,radius:4,stem:{width:11,height:6,offset:{x:6,y:6}},shadow:false,spinner:{color:"#fff"}},"yellow":{background:"#ffffaa",border:{size:1,color:"#6d5208",opacity:0.4}},"red":{background:{color:[{position:0,color:"#e13c37"},{position:1,color:"#e13c37"}]},border:{size:1,color:"#150201",opacity:0.6},spinner:{color:"#fff"}},"green":{background:{color:[{position:0,color:"#4bb638"},{position:1,color:"#4aab3a"}]},border:{size:1,color:"#122703",opacity:0.6},spinner:{color:"#fff"}},"blue":{background:{color:[{position:0,color:"#4588c8"},{position:1,color:"#3d7cb9"}]},border:{color:"#020b17",opacity:0.6},spinner:{color:"#fff"}}};(function($){$.extend(Tipped.Skins,{black:$.extend(true,{},Tipped.Skins.dark,{radius:0}),white:$.extend(true,{},Tipped.Skins.light,{radius:0})})})(jQuery);Tipped.Skins.CloseButtons={"base":{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:0.46,color:"#171717"},{position:0.53,color:"#121212"},{position:0.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},"hover":{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:1,color:"#000",offset:{x:0,y:0},opacity:0.5}},"reset":{},"default":{},"light":{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:0.48,color:"#717171"},{position:0.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:0.95},border:{color:"#676767",opacity:1}},"hover":{background:{color:[{position:0,color:"#868686"},{position:0.48,color:"#7f7f7f"},{position:0.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}};(function(G){function K(_,$){var A=[_,$];return A.left=_,A.top=$,A}function V($){!window.console||console[console.warn?"warn":"log"]($)}function J($){this.element=$}function D(_){var $={};for(var A in _)$[A]=_[A]+"px";return $}function M(_,$){return Math.sqrt(_*_+$*$)}function I($){return $*180/Math.PI}function P($){return $*Math.PI/180}function X($){return 1/Math.cos($)}function R($){if(!$)return;this.element=$,H.remove($);var _=this.getTooltip();this.options=G.extend({},_.options),this._globalAlpha=1,this._cache={},this.uid=G($).data("tipped-uid"),H.add(this),this._hookPosition=this.options.hook.tooltip,this._stemPosition=this.options.stem&&this._hookPosition,this._stemCorrection={x:0,y:0},this._adjustment={top:0,left:0},this.build()}function C(_,A){this.element=_;if(!this.element||!A)return;this.options=G.extend({blur:3,offset:{x:0,y:0},color:"#000",opacity:0.5,globalAlpha:1},arguments[2]||{}),this._globalAlpha=this.options.globalAlpha,this._cache={},this.uid=G(_).data("tipped-uid"),$.add(this),this.build()}function B($){this.element=$;if(!this.element)return;this.options=G.extend({blur:5,offset:{x:0,y:0},color:"#000",opacity:0.5,globalAlpha:1},arguments[1]||{}),this._globalAlpha=this.options.globalAlpha,this.uid=G($).data("tipped-uid"),Z.add(this),this.build()}function A($,B){for(var _ in B)B[_]&&B[_].constructor&&B[_].constructor===Object?($[_]=G.extend({},$[_])||{},A($[_],B[_])):$[_]=B[_];return $}function O(A,D){this.element=A;if(!this.element)return;var F=G(A).data("tipped-uid");F&&_.remove(A),F=T(),G(A).data("tipped-uid",F),this.uid=F;var B;G.type(D)=="object"&&!W.isElement(D)?(B=D,D=null):B=arguments[2]||{},this.options=_.createOptions(B);var E=A.getAttribute("title");if(!D){var C=A.getAttribute("data-tipped");C?D=C:E&&(D=E)}E&&(G(A).data("tipped_restore_title",E),A.setAttribute("title","")),this.content=D,this.zIndex=this.options.zIndex||+_.options.startingZIndex,this._cache={contentDimensions:{width:1,height:1},events:[],timers:[],states:{active:!1,xhr:!1,visible:!1,updated:!1,build:!1,skinned:!1,toggles:!1,preloading_images:!1},fnCallContent:""};var $=this.options.target;this.target=$=="mouse"?"mouse":$=="self"||!$?this.element:$&&document.getElementById($)||this.element,this._preBuild(),_.add(this)}var U=Array.prototype.slice,W={wrap:function(_,$){var A=_;return function(){var _=[G.proxy(A,this)].concat(U.call(arguments));return $.apply(this,_)}},isElement:function($){return $&&$.nodeType==1},delay:function($,A){var _=U.call(arguments,2);return setTimeout(function(){return $.apply($,_)},A)},defer:function($){return W.delay.apply(this,[$,1].concat(U.call(arguments,1)))},pointer:function($){return{x:$.pageX,y:$.pageY}},element:{cumulativeScrollOffset:function(_){var $=0,A=0;do $+=_.scrollTop||0,A+=_.scrollLeft||0,_=_.parentNode;while(_);return K(A,$)},cumulativeOffset:function($){var B=G($).offset(),_=W.element.cumulativeScrollOffset($),A={top:G(window).scrollTop(),left:G(window).scrollLeft()};return B.left+=_.left-A.left,B.top+=_.top-A.top,K(B.left,B.top)},isAttached:function(){function $(_){var $=_;while($&&$.parentNode)$=$.parentNode;return $}return function(_){var A=$(_);return!!A&&!!A.body}}()}},Q=function(_){function $($){var A=(new RegExp($+"([\\d.]+)")).exec(_);return A?parseFloat(A[1]):!0}return{IE:!!window.attachEvent&&_.indexOf("Opera")===-1&&$("MSIE "),Opera:_.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:_.indexOf("AppleWebKit/")>-1&&$("AppleWebKit/"),Gecko:_.indexOf("Gecko")>-1&&_.indexOf("KHTML")===-1&&$("rv:"),MobileSafari:!!_.match(/Apple.*Mobile.*Safari/),Chrome:_.indexOf("Chrome")>-1&&$("Chrome/")}}(navigator.userAgent),L={scripts:{jQuery:{required:"1.4.4",available:window.jQuery&&jQuery.fn.jquery}},check:function(){function $($){var C=$.match(_),B=C&&C[1]&&C[1].split(".")||[],E=0;for(var A=0,D=B.length;A<D;A++)E+=parseInt(B[A]*Math.pow(10,6-A*2));return C&&C[3]?E-1:E}var _=/^(\d+(\.?\d+){0,3})([A-Za-z_-]+[A-Za-z0-9]+)?/;return function(_){if(this.scripts[_].checked)return;this.scripts[_].checked=!0;if(!this.scripts[_].available||$(this.scripts[_].available)<$(this.scripts[_].required)&&!this.scripts[_].notified)this.scripts[_].notified=!0,V("Tipped requires "+_+" >= "+this.scripts[_].required)}}()},T=function(){var _=0,$="_t_uid_";return function(A){A=A||$,_++;while(document.getElementById(A+_))_++;return A+_}}();G.extend(Tipped,function(){return{support:{canvas:function(){var $=document.createElement("canvas");return!!$.getContext&&!!$.getContext("2d")}(),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch($){return!1}}(),cssTransitions:function(){var $=["WebKitTransitionEvent","TransitionEvent","OTransitionEvent"],_=!1;return G.each($,function(A,$){try{document.createEvent($),_=!0}catch(B){}}),_}()},init:function(){if(!this.support.canvas&&!Q.IE)return;L.check("jQuery"),G(document).ready(function(){_.startDelegating()})},create:function(_,$,A){return J.create(_,$,A),this.get(_)},get:function($){return new J($)},findElement:function($){return _.findElement($)},show:function($){return this.get($).show(),this},hide:function($){return this.get($).hide(),this},toggle:function($){return this.get($).toggle(),this},refresh:function($){return this.get($).refresh(),this},remove:function($){return this.get($).remove(),this},hideAll:function(){return _.hideAll(),this},setDefaultSkin:function($){return _.setDefaultSkin($),this},setStartingZIndex:function($){return _.setStartingZIndex($),this},visible:function($){if(W.isElement($))return _.isVisibleByElement($);if(G.type($)!="undefined"){var A=G($),B=0;return G.each(A,function(A,$){_.isVisibleByElement($)&&B++}),B}return _.getVisible().length}}}()),G.extend(J,{create:function($,B){if(!$)return;var C=arguments[2]||{},A=[];return _.removeDetached(),W.isElement($)?A.push(new O($,B,C)):G($).each(function(_,$){A.push(new O($,B,C))}),A}}),G.extend(J.prototype,{items:function(){return _.Position.mouseBuffer={x:0,y:0},_.get(this.element)},show:function(){return G.each(this.items(),function(_,$){$.show()}),this},hide:function(){return G.each(this.items(),function(_,$){$.hide()}),this},toggle:function(){return G.each(this.items(),function(_,$){$.toggle()}),this},refresh:function(){return G.each(this.items(),function(_,$){$.refresh()}),this},remove:function(){return _.remove(this.element),this}});var F={viewport:function(){var $;return Q.MobileSafari?$={width:window.innerWidth,height:window.innerHeight}:$={height:G(window).height(),width:G(window).width()},$}},S={devicePixelRatio:Math.ceil(Math.min(window.devicePixelRatio?parseFloat(window.devicePixelRatio)||1:1,2)),init:function(){function $(_){var $=_.getContext("2d");$.scale(S.devicePixelRatio,S.devicePixelRatio)}return window.G_vmlCanvasManager&&!Tipped.support.canvas&&Q.IE?function(_){G_vmlCanvasManager.initElement(_),$(_)}:function(_){$(_)}}(),resize:function($,_){G($).attr({width:_.width*this.devicePixelRatio,height:_.height*this.devicePixelRatio}).css(D(_))},drawRoundedRectangle:function(_){var D=G.extend({top:0,left:0,width:0,height:0,radius:0},arguments[1]||{}),B=D,F=B.left,A=B.top,E=B.width,$=B.height,C=B.radius;if(!C){_.fillRect(F,A,E,$);return}_.beginPath(),_.moveTo(F+C,A),_.arc(F+E-C,A+C,C,P(-90),P(0),!1),_.arc(F+E-C,A+$-C,C,P(0),P(90),!1),_.arc(F+C,A+$-C,C,P(90),P(180),!1),_.arc(F+C,A+C,C,P(-180),P(-90),!1),_.closePath(),_.fill()},drawPixelArray:function(_,D){var B=G.extend({x:0,y:0,color:"#000"},arguments[2]||{});for(var F=0,A=D.length;F<A;F++)for(var E=0,$=D[F].length;E<$;E++){var C=parseInt(D[F].charAt(E))*(1/9);_.fillStyle=Y.hex2fill(B.color,C),C&&_.fillRect(B.x+E,B.y+F,1,1)}},createFillStyle:function($,A){var _;if(G.type(A)=="string")_=Y.hex2fill(A);else if(G.type(A.color)=="string")_=Y.hex2fill(A.color,G.type(A.opacity)=="number"?A.opacity:1);else if(G.isArray(A.color)){var B=G.extend({x1:0,y1:0,x2:0,y2:0},arguments[2]||{});_=S.Gradient.addColorStops($.createLinearGradient(B.x1,B.y1,B.x2,B.y2),A.color,A.opacity)}return _}};S.Gradient={addColorStops:function($,B){var A=G.type(arguments[2])=="number"?arguments[2]:1;for(var D=0,_=B.length;D<_;D++){var C=B[D];if(G.type(C.opacity)=="undefined"||G.type(C.opacity)!="number")C.opacity=1;$.addColorStop(C.position,Y.hex2fill(C.color,C.opacity*A))}return $}};var N={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:function(){var $={top:"height",left:"width",bottom:"height",right:"width"};return function(_){return $[_]}}(),isCenter:function($){return!!$.toLowerCase().match(this.regex.isCenter)},isCorner:function($){return!this.isCenter($)},getOrientation:function($){return $.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(_){var $=null,A=_.toLowerCase().match(this.regex.side);return A&&A[1]&&($=A[1]),$},split:function($){return $.toLowerCase().match(this.regex.toOrientation)}},E={getDimensions:function(_){var $=_.options.stem;return{width:$.width,height:$.height}},getBorderDimensions:function(_,C){var B=G.extend({math:"ceil"},arguments[2]||{}),E=_.options.stem,A=E.width,D=E.height,$=this.getCenterBorderDimensions(A,D,C);return B.math&&($.width=Math[B.math]($.width),$.height=Math[B.math]($.height)),{width:$.width,height:$.height}},getCenterBorderDimensions:function(A,_,D){var C=I(Math.atan(_/A*0.5)),F=180-C,B=Math.cos(P(F-90))*D,E=A+B*2,$=E*_/A;return{width:E,height:$}},getLayout:function(A,_){var D=this.getBorderDimensions(A,_),C=this.getDimensions(A),F=N.isCenter(A._hookPosition),B=Math.ceil(D.height+_),E=A.options.stem.offset||0,$=A.options.radius&&A.options.radius.size||0;return{box:{dimensions:{width:Math.ceil(D.width),height:Math.ceil(B)}},border:{dimensions:D},stem:{dimensions:{width:C.width,height:C.height}}}},getBubbleLayout:function(U,K,W){var Q={},V=U.options,L={top:0,left:0},T={top:0,left:0},J=G.extend({},K),D=U.border,M=M||this.getLayout(U,U.border),I=M.box.dimensions;W&&(I.height=W,D=0);var P=N.split(U._hookPosition),X=N.getOrientation(U._hookPosition);if(U.options.stem){var F=N.getSide(U._hookPosition);F=="top"?L.top=I.height-D:F=="left"&&(L.left=I.height-D);if(X=="horizontal"){switch(P[2]){case"middle":case"center":T.left=0.5*J.width;break;case"right":T.left=J.width}P[1]=="bottom"&&(T.top=J.height-D+I.height)}else{switch(P[2]){case"middle":case"center":T.top=0.5*J.height;break;case"bottom":T.top=J.height}P[1]=="right"&&(T.left=J.width-D+I.height)}J[N.toDimension(F)]+=I.height-D}else if(X=="horizontal"){switch(P[2]){case"middle":case"center":T.left=0.5*J.width;break;case"right":T.left=J.width}P[1]=="bottom"&&(T.top=J.height)}else{switch(P[2]){case"middle":case"center":T.top=0.5*J.height;break;case"bottom":T.top=J.height}P[1]=="right"&&(T.left=J.width)}var S=V.radius&&V.radius.size||0,Y=V.border&&V.border.size||0;if(U.options.stem){var H=S&&V.radius.position=="background"?S:0,R=S&&V.radius.position=="border"?S:S+Y,$=Y+H+0.5*M.stem.dimensions.width-0.5*M.border.dimensions.width,C=R>$?R-$:0,Z=Math.ceil(Y+H+0.5*M.stem.dimensions.width+C);if(X=="horizontal")switch(P[2]){case"left":T.left+=Z;break;case"right":T.left-=Z}else switch(P[2]){case"top":T.top+=Z;break;case"bottom":T.top-=Z}}var B;if(V.stem&&(B=V.stem.offset)){var A=E.nullifyCornerOffset(B,U._stemPosition,K,M.border.dimensions,Y,S);B=A.offset;var _=A.correction;if(X=="horizontal")switch(P[2]){case"left":T.left+=B.x;break;case"right":T.left-=B.x}else switch(P[2]){case"top":T.top+=B.y;break;case"bottom":T.top-=B.y}}var O;if(V.stem&&(O=V.stem.spacing))if(X=="horizontal")switch(P[1]){case"top":T.top-=O;break;case"bottom":T.top+=O}else switch(P[1]){case"left":T.left-=O;break;case"right":T.left+=O}return{dimensions:J,position:{top:0,left:0},background:{position:L,dimensions:K},stem:{dimensions:I},anchor:T}},nullifyCornerOffset:function(A,E,C,H,B,F){var _=N.getOrientation(E),D=G.extend({},A),$={x:0,y:0};return _=="horizontal"&&C.width-H.width-2*B-2*F<2*A.x&&($.x=D.x,D.x=0),_=="vertical"&&C.height-H.height-2*B-2*F<2*A.y&&($.y=D.y,D.y=0),{offset:D,correction:$}}},Y=function(){function C(_){var $=_;return $.red=_[0],$.green=_[1],$.blue=_[2],$}function I($){return parseInt($,16)}function B(_){var $=new Array(3);_.indexOf("#")==0&&(_=_.substring(1)),_=_.toLowerCase();if(_.replace(E,"")!="")return null;_.length==3?($[0]=_.charAt(0)+_.charAt(0),$[1]=_.charAt(1)+_.charAt(1),$[2]=_.charAt(2)+_.charAt(2)):($[0]=_.substring(0,2),$[1]=_.substring(2,4),$[2]=_.substring(4));for(var A=0;A<$.length;A++)$[A]=I($[A]);return C($)}function F(_,$){var A=B(_);return A[3]=$,A.opacity=$,A}function _($,_){return G.type(_)=="undefined"&&(_=1),"rgba("+F($,_).join()+")"}function D(_){return"#"+($(_)[2]>50?"000":"fff")}function $($){return H(B($))}function H(_){var _=C(_),J=_.red,D=_.green,H=_.blue,K,E,I,B=J>D?J:D;H>B&&(B=H);var $=J<D?J:D;H<$&&($=H),I=B/255,E=B!=0?(B-$)/B:0;if(E==0)K=0;else{var F=(B-J)/(B-$),A=(B-D)/(B-$),G=(B-H)/(B-$);J==B?K=G-A:D==B?K=2+F-G:K=4+A-F,K/=6,K<0&&(K+=1)}K=Math.round(K*360),E=Math.round(E*100),I=Math.round(I*100);var L=[];return L[0]=K,L[1]=E,L[2]=I,L.hue=K,L.saturation=E,L.brightness=I,L}var A="0123456789abcdef",E=new RegExp("["+A+"]","g");return{hex2rgb:B,hex2fill:_,getSaturatedBW:D}}(),H={skins:{},get:function($){if(!$)return null;var A=null,_=G($).data("tipped-uid");return _&&(A=this.skins[_]),A},add:function($){this.skins[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.skins[$.uid],$.remove())}};G.extend(R.prototype,function(){function c(){this._cache.hook={};var $=this._hookPosition;G.each(N.positions,G.proxy(function(A,E){var C,I=this._cache.hook[E]={};this._hookPosition=E;var B=this.getOrderLayout();C=B,I.anchor=C.anchor;var F=C.bubble.dimensions,_={top:C.bubble.position.top,left:C.bubble.position.left};I.bubble={dimensions:F,position:_},I.tooltip={dimensions:C.skin.dimensions};if(this.shadow){var D=this.shadow.getOrderLayout(),$=D.skin.position,H=I.bubble.position;G.extend(!0,I,{anchor:D.anchor,bubble:{position:{top:H.top+$.top,left:H.left+$.left}},tooltip:{dimensions:D.tooltip.dimensions}})}},this)),this._hookPosition=$}function M(){this.cleanup(),this.options.shadow&&($.remove(this.element),this.options.closeButton&&this.options.closeButton.shadow&&Z.remove(this.element)),this.iframeShim&&(this.iframeShim.remove(),this.iframeShim=null),this.container&&(G(this.container).remove(),this.container=null)}function f(){if(!this.bubble)return;this.closeButton&&(G(this.closeButton).remove(),this.closeButton=null,this.defaultCloseButton=null,this.hoverCloseButton=null),G(this.bubble).remove(),this.stem=null,this.background=null,this.bubble=null,this._cache={}}function d(){var _=this.getTooltip();this.contentDimensions=_._cache.contentDimensions;var $=_.options;this.radius=$.radius&&$.radius.size||0,this.border=$.border&&$.border.size||0,this.padding=$.padding;var A=Math.min(this.contentDimensions.height,this.contentDimensions.width);this.radius>A/2&&(this.radius=Math.floor(A/2)),this.options.radius.position=="border"&&this.radius>this.border&&(this.border=this.radius),this._cache={options:{radius:this.radius,border:this.border,padding:this.padding}}}function R(){this.cleanup(),window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);var $=this.getTooltip(),_=this.options;this.bubble=G("<div>").addClass("t_Bubble")[0],G($.skinElement).append(this.bubble),this.prepare(),this.drawBubble($),_.closeButton&&(this.drawCloseButton($),_.closeButton.shadow&&(this.closeButtonShadow?(this.closeButtonShadow.options=_.closeButton.shadow,this.closeButtonShadow.build()):this.closeButtonShadow=new B(this.element,G.extend({globalAlpha:this._globalAlpha},_.closeButton.shadow)))),Q.IE&&Q.IE<7&&G($.container).prepend(this.iframeShim=G("<iframe>").addClass("t_iframeShim").attr({frameBorder:0,src:"javascript:'';"})),this.order(),_.shadow&&(this.shadow?(this.shadow.options=_.shadow,this.shadow.build()):this.shadow=new C(this.element,this,G.extend({globalAlpha:this._globalAlpha},_.shadow))),this.createHookCache()}function b(){var A=this.getTooltip(),D=G(A.container),C=G(A.container).find(".t_ContentContainer").first()[0];if(C){G(C).css({width:"auto",height:"auto"});var F=parseInt(D.css("top")),B=parseInt(D.css("left")),E=parseInt(D.css("width"));D.css({left:"-25000px",top:"-25000px",width:"15000px",height:"auto"}),A.getState("visible")||G(A.container).show();var $=_.UpdateQueue.getMeasureElementDimensions(C);A.options.maxWidth&&G.type(A.options.maxWidth)=="number"&&$.width>A.options.maxWidth&&(G(C).css({width:A.options.maxWidth+"px"}),$=_.UpdateQueue.getMeasureElementDimensions(C)),A.getState("visible")||G(A.container).hide(),A._cache.contentDimensions=$,D.css({left:B+"px",top:F+"px",width:E+"px"}),this.build()}}function K(_,$,B){var A=!1;this.setHookPosition(_)&&(A=!0),this.setStemCorrection($)&&(A=!0),B&&this.setAdjustment(B)&&(A=!0),A&&this.build()}function U(_){var $=!1;if(this._adjustment.left!=_.left||this._adjustment.top!=_.top)$=!0,this._adjustment=_;return $}function J(_){var $=!1;if(this._stemCorrection.x!=_.x||this._stemCorrection.y!=_.y)$=!0,this._stemCorrection=_;return $}function g(_,$){var A=!1;return this._hookPosition!=_&&(A=!0,this._hookPosition=_),A}function F(){return _.get(this.element)[0]}function H(){return E.getLayout(this,this.border)}function a(){var $=this.getTooltip().options.closeButton,_=$.diameter+$.border*2;G(this.defaultCloseButton).css({left:-1*_+"px"}),G(this.hoverCloseButton).css({left:0})}function T(){var $=this.getTooltip().options.closeButton,_=$.diameter+$.border*2;G(this.defaultCloseButton).css({left:0}),G(this.hoverCloseButton).css({left:_+"px"})}function X($){var A=$.options.closeButton,_={width:A.diameter+2*A.border,height:A.diameter+2*A.border};G($.container).append(G(this.closeButton=document.createElement("div")).addClass("t_Close").css(D(_)).append(G(this.closeButtonShift=document.createElement("div")).addClass("t_CloseButtonShift").css(D(_)))),this.drawCloseButtonState($,"default"),this.drawCloseButtonState($,"hover"),!Tipped.support.touch&&!Q.Chrome&&G(this.closeButton).bind("mouseenter",G.proxy(this.closeButtonMouseover,this)).bind("mouseleave",G.proxy(this.closeButtonMouseout,this))}function L(M,E){var O=M.options.closeButton,J=O.diameter,N=O.border||0,F=O.x.diameter,L=O.x.size,C=O.x.lineCap,H=O.states[E||"default"],B={width:J+2*N,height:J+2*N};F>=J&&(F=J-2);var Q;G(this.closeButtonShift).append(G(this[E+"CloseButton"]=document.createElement("div")).addClass("t_CloseState").css(G.extend(D(B),{left:(E=="hover"?B.width:0)+"px"}))),G(document.body).append(G(Q=document.createElement("canvas"))),S.resize(Q,B),S.init(Q);var _=Q.getContext("2d");_.globalAlpha=this._globalAlpha,G(this[E+"CloseButton"]).append(Q),_.translate(B.width/2,B.height/2),_.fillStyle=S.createFillStyle(_,H.background,{x1:0,y1:0-J/2,x2:0,y2:0+J/2}),_.beginPath(),_.arc(0,0,J/2,0,Math.PI*2,!0),_.closePath(),_.fill(),N&&(_.fillStyle=S.createFillStyle(_,H.border,{x1:0,y1:0-J/2-N,x2:0,y2:0+J/2+N}),_.beginPath(),_.arc(0,0,J/2,Math.PI,0,!1),_.lineTo((J+N)/2,0),_.arc(0,0,J/2+N,0,Math.PI,!0),_.arc(0,0,J/2+N,Math.PI,0,!0),_.lineTo(J/2,0),_.arc(0,0,J/2,0,Math.PI,!1),_.closePath(),_.fill());var I=F/2,$=L/2;if($>I){var A=$;$=I,I=A}_.fillStyle=Y.hex2fill(H.x.color||H.x,H.x.opacity||1),_.rotate(P(45)),_.beginPath(),_.moveTo(0,0),_.lineTo(0,I);for(var K=0;K<4;K++)_.lineTo(0,I),_.lineTo($,I),_.lineTo($,I-(I-$)),_.lineTo(I,$),_.lineTo(I,0),_.rotate(P(90));_.closePath(),_.fill()}function I(S){var H=G.extend({stem:!1,hookPosition:null,stemCorrection:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,borderRadius:0,cornerOffset:{x:0,y:0}},arguments[1]||{}),U=H.layout,L=H.stemLayout,T=H.cornerOffset,I=H.border,R=H.radius,F=H.hookPosition,$=U.background.position,K=U.background.dimensions,C,W,A,Q,X,B={x:Math.abs(this._stemCorrection.x),y:Math.abs(this._stemCorrection.y)},M={x:0,y:0},_={x:0,y:0};if(L){C=L.stem.dimensions,W=L.box.position,A=L.box.dimensions,Q=A.width-C.width;var V=H.borderRadius,Y=I+R+0.5*C.width-0.5*L.border.dimensions.width;X=Math.ceil(V>Y?V-Y:0);var O=E.nullifyCornerOffset(T,F,K,L.border.dimensions,I,R);T=O.offset,_=O.correction,M={x:Math.max(K.width-Math.max(X,T.x||0)*2-L.border.dimensions.width-(2*R||0),0),y:Math.max(K.height-Math.max(X,T.y||0)*2-L.border.dimensions.height-(2*R||0),0)},N.isCenter(F)&&(M.x*=0.5,M.y*=0.5),B.x=Math.min(B.x,M.x),B.y=Math.min(B.y,M.y),N.isCenter(F)&&(this._stemCorrection.x<0&&B.x>0&&(B.x*=-1),this._stemCorrection.y<0&&B.y>0&&(B.y*=-1)),this._adjustment&&this._adjustment.sides&&G.each(this._adjustment.sides,function($,_){G.each("top right bottom left".split(" "),function(A,$){_==$&&(new RegExp("("+$+")$")).test(F)&&(B[/^(left|right)$/.test($)?"x":"y"]=0)})})}var J,D;R?(J=$.left+I+R,D=$.top+I):(J=$.left+I,D=$.top+I),T&&T.x&&/^(topleft|lefttop)$/.test(F)&&(J+=T.x),H.beginPath&&S.beginPath(),S.moveTo(J,D);if(H.stem)switch(F){case"topleft":J=$.left+I,R&&(J+=R),J+=Math.max(X,T.x||0),J+=B.x,S.lineTo(J,D),D-=C.height,J+=C.width*0.5,S.lineTo(J,D),D+=C.height,J+=C.width*0.5,S.lineTo(J,D);break;case"topmiddle":case"topcenter":J=$.left+K.width*0.5-C.width*0.5,J+=B.x,S.lineTo(J,D),D-=C.height,J+=C.width*0.5,S.lineTo(J,D),D+=C.height,J+=C.width*0.5,S.lineTo(J,D),J=$.left+K.width*0.5-A.width*0.5,S.lineTo(J,D);break;case"topright":J=$.left+K.width-I-C.width,R&&(J-=R),J-=Math.max(X,T.x||0),J-=B.x,S.lineTo(J,D),D-=C.height,J+=C.width*0.5,S.lineTo(J,D),D+=C.height,J+=C.width*0.5,S.lineTo(J,D)}R?R&&(S.arc($.left+K.width-I-R,$.top+I+R,R,P(-90),P(0),!1),J=$.left+K.width-I,D=$.top+I+R):(J=$.left+K.width-I,D=$.top+I,S.lineTo(J,D));if(H.stem)switch(F){case"righttop":D=$.top+I,R&&(D+=R),D+=Math.max(X,T.y||0),D+=B.y,S.lineTo(J,D),J+=C.height,D+=C.width*0.5,S.lineTo(J,D),J-=C.height,D+=C.width*0.5,S.lineTo(J,D);break;case"rightmiddle":case"rightcenter":D=$.top+K.height*0.5-C.width*0.5,D+=B.y,S.lineTo(J,D),J+=C.height,D+=C.width*0.5,S.lineTo(J,D),J-=C.height,D+=C.width*0.5,S.lineTo(J,D);break;case"rightbottom":D=$.top+K.height-I,R&&(D-=R),D-=C.width,D-=Math.max(X,T.y||0),D-=B.y,S.lineTo(J,D),J+=C.height,D+=C.width*0.5,S.lineTo(J,D),J-=C.height,D+=C.width*0.5,S.lineTo(J,D)}R?R&&(S.arc($.left+K.width-I-R,$.top+K.height-I-R,R,P(0),P(90),!1),J=$.left+K.width-I-R,D=$.top+K.height-I):(J=$.left+K.width-I,D=$.top+K.height-I,S.lineTo(J,D));if(H.stem)switch(F){case"bottomright":J=$.left+K.width-I,R&&(J-=R),J-=Math.max(X,T.x||0),J-=B.x,S.lineTo(J,D),J-=C.width*0.5,D+=C.height,S.lineTo(J,D),J-=C.width*0.5,D-=C.height,S.lineTo(J,D);break;case"bottommiddle":case"bottomcenter":J=$.left+K.width*0.5+C.width*0.5,J+=B.x,S.lineTo(J,D),J-=C.width*0.5,D+=C.height,S.lineTo(J,D),J-=C.width*0.5,D-=C.height,S.lineTo(J,D);break;case"bottomleft":J=$.left+I+C.width,R&&(J+=R),J+=Math.max(X,T.x||0),J+=B.x,S.lineTo(J,D),J-=C.width*0.5,D+=C.height,S.lineTo(J,D),J-=C.width*0.5,D-=C.height,S.lineTo(J,D)}R?R&&(S.arc($.left+I+R,$.top+K.height-I-R,R,P(90),P(180),!1),J=$.left+I,D=$.top+K.height-I-R):(J=$.left+I,D=$.top+K.height-I,S.lineTo(J,D));if(H.stem)switch(F){case"leftbottom":D=$.top+K.height-I,R&&(D-=R),D-=Math.max(X,T.y||0),D-=B.y,S.lineTo(J,D),J-=C.height,D-=C.width*0.5,S.lineTo(J,D),J+=C.height,D-=C.width*0.5,S.lineTo(J,D);break;case"leftmiddle":case"leftcenter":D=$.top+K.height*0.5+C.width*0.5,D+=B.y,S.lineTo(J,D),J-=C.height,D-=C.width*0.5,S.lineTo(J,D),J+=C.height,D-=C.width*0.5,S.lineTo(J,D);break;case"lefttop":D=$.top+I+C.width,R&&(D+=R),D+=Math.max(X,T.y||0),D+=B.y,S.lineTo(J,D),J-=C.height,D-=C.width*0.5,S.lineTo(J,D),J+=C.height,D-=C.width*0.5,S.lineTo(J,D)}return R?R&&(S.arc($.left+I+R,$.top+I+R,R,P(-180),P(-90),!1),J=$.left+I+R,D=$.top+I,J+=1,S.lineTo(J,D)):(J=$.left+I,D=$.top+I,S.lineTo(J,D)),H.closePath&&S.closePath(),{x:J,y:D,stem:B,corner:_,cornerOffset:T}}function V(S){var J=G.extend({stem:!1,hookPosition:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,stemOffset:0,cornerOffset:{x:0,y:0},corrections:null},arguments[1]||{}),U=J.layout,N=J.stemLayout,T=J.stemOffset,K=J.cornerOffset,R=J.border,I=J.radius&&J.radius.size||0,C=J.backgroundRadius,L=J.hookPosition,H=U.background.position,V=U.background.dimensions,E,Q,M,D,W,F,O=J.corrections&&J.corrections.stem||{x:0,y:0};if(N){E=N.stem.dimensions,Q=N.box.position,M=N.box.dimensions,D=N.border.dimensions,W=M.width-E.width;var $=R+C+0.5*E.width-0.5*D.width;F=Math.ceil(I>$?I-$:0)}var B=H.left+R+C,X=H.top+R;C&&(B+=1);var A=G.extend({},{x:B,y:X});J.beginPath&&S.beginPath();var _=G.extend({},{x:B,y:X});X-=R,S.lineTo(B,X),I?I&&(S.arc(H.left+I,H.top+I,I,P(-90),P(-180),!0),B=H.left,X=H.top+I):(B=H.left,X=H.top,S.lineTo(B,X));if(J.stem)switch(L){case"lefttop":X=H.top+R,C&&(X+=C),X-=D.width*0.5,X+=E.width*0.5,X+=Math.max(F,K.y||0),X+=O.y,S.lineTo(B,X),B-=D.height,X+=D.width*0.5,S.lineTo(B,X),B+=D.height,X+=D.width*0.5,S.lineTo(B,X);break;case"leftmiddle":case"leftcenter":X=H.top+V.height*0.5-D.width*0.5,X+=O.y,S.lineTo(B,X),B-=D.height,X+=D.width*0.5,S.lineTo(B,X),B+=D.height,X+=D.width*0.5,S.lineTo(B,X);break;case"leftbottom":X=H.top+V.height-R-D.width,C&&(X-=C),X+=D.width*0.5,X-=E.width*0.5,X-=Math.max(F,K.y||0),X-=O.y,S.lineTo(B,X),B-=D.height,X+=D.width*0.5,S.lineTo(B,X),B+=D.height,X+=D.width*0.5,S.lineTo(B,X)}I?I&&(S.arc(H.left+I,H.top+V.height-I,I,P(-180),P(-270),!0),B=H.left+I,X=H.top+V.height):(B=H.left,X=H.top+V.height,S.lineTo(B,X));if(J.stem)switch(L){case"bottomleft":B=H.left+R,C&&(B+=C),B-=D.width*0.5,B+=E.width*0.5,B+=Math.max(F,K.x||0),B+=O.x,S.lineTo(B,X),X+=D.height,B+=D.width*0.5,S.lineTo(B,X),X-=D.height,B+=D.width*0.5,S.lineTo(B,X);break;case"bottommiddle":case"bottomcenter":B=H.left+V.width*0.5-D.width*0.5,B+=O.x,S.lineTo(B,X),X+=D.height,B+=D.width*0.5,S.lineTo(B,X),X-=D.height,B+=D.width*0.5,S.lineTo(B,X),B=H.left+V.width*0.5+D.width,S.lineTo(B,X);break;case"bottomright":B=H.left+V.width-R-D.width,C&&(B-=C),B+=D.width*0.5,B-=E.width*0.5,B-=Math.max(F,K.x||0),B-=O.x,S.lineTo(B,X),X+=D.height,B+=D.width*0.5,S.lineTo(B,X),X-=D.height,B+=D.width*0.5,S.lineTo(B,X)}I?I&&(S.arc(H.left+V.width-I,H.top+V.height-I,I,P(90),P(0),!0),B=H.left+V.width,X=H.top+V.width+I):(B=H.left+V.width,X=H.top+V.height,S.lineTo(B,X));if(J.stem)switch(L){case"rightbottom":X=H.top+V.height-R,X+=D.width*0.5,X-=E.width*0.5,C&&(X-=C),X-=Math.max(F,K.y||0),X-=O.y,S.lineTo(B,X),B+=D.height,X-=D.width*0.5,S.lineTo(B,X),B-=D.height,X-=D.width*0.5,S.lineTo(B,X);break;case"rightmiddle":case"rightcenter":X=H.top+V.height*0.5+D.width*0.5,X+=O.y,S.lineTo(B,X),B+=D.height,X-=D.width*0.5,S.lineTo(B,X),B-=D.height,X-=D.width*0.5,S.lineTo(B,X);break;case"righttop":X=H.top+R,C&&(X+=C),X+=D.width,X-=D.width*0.5-E.width*0.5,X+=Math.max(F,K.y||0),X+=O.y,S.lineTo(B,X),B+=D.height,X-=D.width*0.5,S.lineTo(B,X),B-=D.height,X-=D.width*0.5,S.lineTo(B,X)}I?I&&(S.arc(H.left+V.width-I,H.top+I,I,P(0),P(-90),!0),B=H.left+V.width-I,X=H.top):(B=H.left+V.width,X=H.top,S.lineTo(B,X));if(J.stem)switch(L){case"topright":B=H.left+V.width-R,B+=D.width*0.5-E.width*0.5,C&&(B-=C),B-=Math.max(F,K.x||0),B-=O.x,S.lineTo(B,X),X-=D.height,B-=D.width*0.5,S.lineTo(B,X),X+=D.height,B-=D.width*0.5,S.lineTo(B,X);break;case"topmiddle":case"topcenter":B=H.left+V.width*0.5+D.width*0.5,B+=O.x,S.lineTo(B,X),X-=D.height,B-=D.width*0.5,S.lineTo(B,X),X+=D.height,B-=D.width*0.5,S.lineTo(B,X),B=H.left+V.width*0.5-D.width,S.lineTo(B,X),S.lineTo(B,X);break;case"topleft":B=H.left+R+D.width,B-=D.width*0.5,B+=E.width*0.5,C&&(B+=C),B+=Math.max(F,K.x||0),B+=O.x,S.lineTo(B,X),X-=D.height,B-=D.width*0.5,S.lineTo(B,X),X+=D.height,B-=D.width*0.5,S.lineTo(B,X)}S.lineTo(_.x,_.y-R),S.lineTo(_.x,_.y),J.closePath&&S.closePath()}function O(P){var F=this.getOrderLayout(),R=this.options.stem&&this.getStemLayout(),L=this._hookPosition&&this._hookPosition.toLowerCase(),Q=this.radius,H=Q*2,O=this.border,E=this.padding,$={width:O*2+E*2+this.contentDimensions.width,height:O*2+E*2+this.contentDimensions.height},I=P.options.stem&&P.options.stem.offset||{x:0,y:0},D=0,K=0;Q&&(D=this.options.radius.position=="background"?Q:0,K=this.options.radius.position=="border"?Q:D+O),G(document.body).append(this.bubbleCanvas=document.createElement("canvas")),S.resize(this.bubbleCanvas,F.bubble.dimensions),S.init(this.bubbleCanvas);var U=this.bubbleCanvas.getContext("2d");U.globalAlpha=this._globalAlpha,G(this.bubble).append(this.bubbleCanvas),U.fillStyle=S.createFillStyle(U,this.options.background,{x1:0,y1:F.background.position.top+O,x2:0,y2:F.background.position.top+F.background.dimensions.height-O}),U.lineWidth=0;var B;B=this._drawBackgroundPath(U,{beginPath:!0,closePath:!0,border:O,radius:D,borderRadius:K,layout:F,stemLayout:R,stem:this.options.stem,hookPosition:L,cornerOffset:I}),U.fill();var J=["6660066660666660066","60060600006060606006","60060666006060606006","60060600006060606006","6660066660606060066"],A=0,C=J.length;for(var M=0,_=J.length;M<_;M++)A=Math.max(A,J[M].length);var T={left:5,top:5},V=P.contentElement.firstChild;V&&(V=G(V),T.left=parseInt(V.css("padding-left"))||0,T.top=parseInt(V.css("padding-top"))||0),S.drawPixelArray(U,J,{x:F.background.position.left+F.background.dimensions.width-O-(T.left||0)-A,y:F.background.position.top+9999999+F.background.dimensions.height-O-(T.top||0)-C,color:Y.getSaturatedBW(G.isArray(this.options.background.color)?this.options.background.color[this.options.background.color.length-1].color:this.options.background.color)});if(O){var N=S.createFillStyle(U,this.options.border,{x1:0,y1:F.background.position.top,x2:0,y2:F.background.position.top+F.background.dimensions.height});U.fillStyle=N,B=this._drawBackgroundPath(U,{beginPath:!0,closePath:!1,border:O,radius:D,borderRadius:K,layout:F,stemLayout:R,stem:this.options.stem,hookPosition:L,cornerOffset:I}),this._drawBorderPath(U,{beginPath:!1,closePath:!0,border:O,backgroundRadius:D,radius:{size:K,position:this.options.radius.position},layout:F,stemLayout:R,stem:this.options.stem,hookPosition:L,cornerOffset:B.cornerOffset,corrections:B}),U.fill()}this._corrections=B}function h(){var N=this.getTooltip(),b=this.contentDimensions,S=N.options,d=this.radius,X=d*2,c=this.border,T=this.padding,a={width:c*2+T*2+b.width,height:c*2+T*2+b.height},R;if(this.options.stem){var L=this.getStemLayout();R=L.box.dimensions}var U=E.getBubbleLayout(this,a),Q=U.dimensions,e=U.position,a=U.background.dimensions,M=U.background.position,Z=U.stem.dimensions,V={top:0,left:0},f,O,Y,_={width:Q.width,height:Q.height};if(S.closeButton){var J=d;S.radius.position=="background"&&(J+=c);var g=J-Math.sin(P(45))*J,H="right";this._hookPosition.toLowerCase().match(/^(topright|righttop)$/)&&(H="left");var F=S.closeButton.diameter+2*S.closeButton.border,f={width:F,height:F};V.left=M.left-F/2+(H=="left"?g:a.width-g),V.top=M.top-F/2+g;if(H=="left"){if(V.left<0){var B=Math.abs(V.left);_.width+=B,e.left+=B,V.left=0}}else{var W=V.left+F-_.width;W>0&&(_.width+=W)}if(V.top<0){var C=Math.abs(V.top);_.height+=C,e.top+=C,V.top=0}if(this.options.closeButton.shadow){var A=this.options.closeButton.shadow,G=A.blur,D=A.offset;O={width:f.width+2*G,height:f.height+2*G},Y={top:V.top-G+D.y,left:V.left-G+D.x};if(H=="left"){if(Y.left<0){B=Math.abs(Y.left);_.width+=B,e.left+=B,V.left+=B,Y.left=0}}else{W=Y.left+O.width-_.width;W>0&&(_.width+=W)}if(Y.top<0){C=Math.abs(Y.top);_.height+=C,e.top+=C,V.top+=C,Y.top=0}}}var K=U.anchor;K.top+=e.top,K.left+=e.left;var $={left:Math.ceil(e.left+M.left+this.border+this.options.padding),top:Math.ceil(e.top+M.top+this.border+this.options.padding)},I={tooltip:{dimensions:{width:Math.ceil(_.width),height:Math.ceil(_.height)}},skin:{dimensions:{width:Math.ceil(_.width),height:Math.ceil(_.height)}},bubble:{dimensions:Q,position:{top:Math.round(e.top),left:Math.round(e.left)}},background:{dimensions:{width:Math.ceil(a.width),height:Math.ceil(a.height)},position:{top:Math.round(M.top),left:Math.round(M.left)}},anchor:{top:Math.round(K.top),left:Math.round(K.left)},content:{position:$}};return this.options.closeButton&&(I.closeButton={dimensions:{width:Math.ceil(f.width),height:Math.ceil(f.height)},position:{top:Math.round(V.top),left:Math.round(V.left)}},this.options.closeButton.shadow&&(I.closeButtonShadow={dimensions:{width:Math.ceil(O.width),height:Math.ceil(O.height)},position:{top:Math.round(Y.top),left:Math.round(Y.left)}})),I}function A(){var $=this.getOrderLayout(),_=this.getTooltip();G(_.container).css(D($.tooltip.dimensions)),G(_.skinElement).css(D($.skin.dimensions)),this.iframeShim&&this.iframeShim.css(D($.tooltip.dimensions)),G(this.bubble).css(G.extend(D($.bubble.dimensions),D($.bubble.position))),this.closeButton&&(G(this.closeButton).css(D($.closeButton.position)),$.closeButtonShadow&&G(this.closeButtonShadow.container).css(D($.closeButtonShadow.position))),G(_.contentElement).css(D($.content.position))}function e($){this._globalAlpha=$||0,this.shadow&&(this.shadow._globalAlpha=this._globalAlpha)}function W($){this.setGlobalAlpha($),this.build()}return{prepare:d,createHookCache:c,build:R,remove:M,cleanup:f,getTooltip:F,refresh:b,setHookPositionAndStemCorrection:K,setAdjustment:U,setStemCorrection:J,setHookPosition:g,drawCloseButton:X,drawCloseButtonState:L,drawBubble:O,_drawBackgroundPath:I,_drawBorderPath:V,closeButtonMouseover:a,closeButtonMouseout:T,getStemLayout:H,getOrderLayout:h,order:A,setGlobalAlpha:e,setOpacity:W}}());var $={shadows:{},get:function($){if(!$)return null;var A=null,_=G($).data("tipped-uid");return _&&(A=this.shadows[_]),A},add:function($){this.shadows[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.shadows[$.uid],$.remove())},transition:function($){return Math.PI/2-Math.pow($,Math.cos($)*Math.PI)}};$.Stem={getBorderDimensions:function(_,$){var B=H.get(_.element),A=B.getStemLayout().border.dimensions,C=this.getCenterBorderDimensions(A.width,A.height,$,{math:!1});return{width:C.width,height:C.height}},getCenterBorderDimensions2:function(A,_,E){var C=A*0.5,G=I(Math.acos(C/M(C,_))),B=180-G-90,F=X(P(B))*E,$=(C+F)*2,D=$/A*_;return{width:$,height:D}},getCenterBorderDimensions:function(A,_,D){var C=I(Math.atan(_/A*0.5)),F=180-C,B=Math.cos(P(F-90))*D,E=A+B*2,$=E*_/A;return{width:E,height:$}},getLayout:function(B){var F=H.get(B.element),D=B.options.blur,K=N.isCorner(F._hookPosition),C=N.getOrientation(F._hookPosition),I=$.Stem.getBorderDimensions(B,D),A={box:{dimensions:{width:Math.ceil(I.width),height:Math.ceil(I.height)},position:{top:0,left:0}}};if(D){A.blurs=[];for(var E=0;E<=D;E++){var _=$.Stem.getBorderDimensions(B,E,{math:!1}),J={position:{top:A.box.dimensions.height-_.height,left:K?D-E:(A.box.dimensions.width-_.width)/2},dimensions:_};A.blurs.push(J)}}else A.blurs=[G.extend({},A.box)];return A},rotate:function(_,$,A){E.rotate(_,$.getSkin(),A)}},G.extend(C.prototype,function(){function B(){return _.get(this.element)[0]}function K(){return H.get(this.element)}function I(){this.cleanup()}function O(){if(!this.container)return;G(this.container).remove(),this.stem=null,this.background=null,this.bubble=null,this.container=null,this._cache={}}function C(){}function L(){this.cleanup(),this.prepare();var $=this.getTooltip(),A=this.getSkin();this.container=G("<div>").addClass("t_Shadow")[0],G($.container).prepend(this.container),A.iframeShim&&G($.container).prepend(A.iframeShim);var _=A.getOrderLayout();G(this.container).css({top:0,left:0}),this.drawBackground(),this.order()}function A(){return this.options.opacity/(this.options.blur+1)}function J(){var a=this.getSkin(),Q=a.getOrderLayout(),c=this.getTooltip(),W=this.getOrderLayout(),b=this.options.blur,R=$.Stem.getLayout(this),Z=a._hookPosition,P=N.getSide(Z),T={top:b,left:b};if(c.options.stem){var O=R.blurs[R.blurs.length-1];P=="left"&&(T.left+=Math.ceil(O.dimensions.height)),P=="top"&&(T.top+=Math.ceil(O.dimensions.height))}var V=a._cache.options,d=V.radius,L=V.border;c.options.radius.position=="background"&&d&&(d+=L);var K=W.bubble.dimensions;G(this.container).append(G(this.bubble=document.createElement("div")).addClass("t_ShadowBubble").css(D(K))).css(D(K)),G(document.body).append(G(this.bubbleCanvas=document.createElement("canvas"))),S.resize(this.bubbleCanvas,W.bubble.dimensions),S.init(this.bubbleCanvas);var M=this.bubbleCanvas.getContext("2d");M.globalAlpha=this._globalAlpha,G(this.bubble).append(this.bubbleCanvas);var X=b+1;for(var I=0;I<=b;I++)M.fillStyle=Y.hex2fill(this.options.color,$.transition(I*(1/X))*(this.options.opacity/X)),S.drawRoundedRectangle(M,{width:Q.background.dimensions.width+I*2,height:Q.background.dimensions.height+I*2,top:T.top-I,left:T.left-I,radius:d+I});if(!a.options.stem)return;var e={x:T.left,y:T.top},H=R.blurs[0].dimensions,E=a.options.stem,A=L;A+=E.width*0.5;var U=a.options.radius&&a.options.radius.position=="background"?a.options.radius.size||0:0;U&&(A+=U);var B=L+U+0.5*E.width-0.5*H.width,_=Math.ceil(d>B?d-B:0),F=a._corrections&&a._corrections.stem||{x:0,y:0},C=a._corrections&&a._corrections.corner||{x:0,y:0};A+=Math.max(_,a.options.stem.offset&&a.options.stem.offset[P&&/^(left|right)$/.test(P)?"y":"x"]||0);if(P=="top"||P=="bottom"){switch(Z){case"topleft":case"bottomleft":e.x+=A+F.x-C.x;break;case"topmiddle":case"topcenter":case"bottommiddle":case"bottomcenter":e.x+=Q.background.dimensions.width*0.5+F.x;break;case"topright":case"bottomright":e.x+=Q.background.dimensions.width-A-F.x+C.x}P=="bottom"&&(e.y+=Q.background.dimensions.height);for(var I=0,J=R.blurs.length;I<J;I++){M.fillStyle=Y.hex2fill(this.options.color,$.transition(I*(1/X))*(this.options.opacity/X));b=R.blurs[I];M.beginPath(),P=="top"?(M.moveTo(e.x,e.y-I),M.lineTo(e.x-b.dimensions.width*0.5,e.y-I),M.lineTo(e.x,e.y-I-b.dimensions.height),M.lineTo(e.x+b.dimensions.width*0.5,e.y-I)):(M.moveTo(e.x,e.y+I),M.lineTo(e.x-b.dimensions.width*0.5,e.y+I),M.lineTo(e.x,e.y+I+b.dimensions.height),M.lineTo(e.x+b.dimensions.width*0.5,e.y+I)),M.closePath(),M.fill()}}else{switch(Z){case"lefttop":case"righttop":e.y+=A+F.y-C.y;break;case"leftmiddle":case"leftcenter":case"rightmiddle":case"rightcenter":e.y+=Q.background.dimensions.height*0.5+F.y;break;case"leftbottom":case"rightbottom":e.y+=Q.background.dimensions.height-A-F.y+C.y}P=="right"&&(e.x+=Q.background.dimensions.width);for(I=0,J=R.blurs.length;I<J;I++){M.fillStyle=Y.hex2fill(this.options.color,$.transition(I*(1/X))*(this.options.opacity/X));b=R.blurs[I];M.beginPath(),P=="left"?(M.moveTo(e.x-I,e.y),M.lineTo(e.x-I,e.y-b.dimensions.width*0.5),M.lineTo(e.x-I-b.dimensions.height,e.y),M.lineTo(e.x-I,e.y+b.dimensions.width*0.5)):(M.moveTo(e.x+I,e.y),M.lineTo(e.x+I,e.y-b.dimensions.width*0.5),M.lineTo(e.x+I+b.dimensions.height,e.y),M.lineTo(e.x+I,e.y+b.dimensions.width*0.5)),M.closePath(),M.fill()}}}function M(){var W=this.getSkin(),M=W.contentDimensions,Y=W.radius,S=W.getOrderLayout(),X=this.getTooltip(),N=this.options.blur,V=G.extend({},S.background.dimensions);V.width+=2*N,V.height+=2*N;var L,H,O;if(W.options.stem){var K=$.Stem.getLayout(this);L=K.box.dimensions,O=L.height}var R=E.getBubbleLayout(W,V,O),Z=R.dimensions,I=R.position,V=R.background.dimensions,U=R.background.position,P=L,a=S.bubble.position,J=S.background.position,T={top:a.top+J.top-(U.top+N)+this.options.offset.y,left:a.left+J.left-(U.left+N)+this.options.offset.x},F=S.anchor,b=S.skin.dimensions,D={top:0,left:0};if(T.top<0){var C=Math.abs(T.top);D.top+=C,T.top=0,F.top+=C}if(T.left<0){var A=Math.abs(T.left);D.left+=A,T.left=0,F.left+=A}var Q={height:Math.max(Z.height+T.top,b.height+D.top),width:Math.max(Z.width+T.left,b.width+D.left)},B={left:Math.ceil(D.left+S.bubble.position.left+S.background.position.left+W.border+W.padding),top:Math.ceil(D.top+S.bubble.position.top+S.background.position.top+W.border+W.padding)},_={tooltip:{dimensions:Q},skin:{dimensions:b,position:D},container:{dimensions:Z,position:T},bubble:{dimensions:Z,position:{top:Math.round(I.top),left:Math.round(I.left)}},background:{dimensions:{width:Math.ceil(V.width),height:Math.ceil(V.height)},position:{top:Math.round(U.top),left:Math.round(U.left)}},anchor:F,content:{position:B}};return _}function F(){var _=this.getOrderLayout(),C=this.getSkin(),B=this.getTooltip();G(B.container).css(D(_.tooltip.dimensions)),G(B.skinElement).css(G.extend(D(_.skin.position),D(_.skin.dimensions))),C.iframeShim&&C.iframeShim.css(D(_.tooltip.dimensions));if(B.options.closeButton){var F=C.getOrderLayout(),A=_.skin.position,E=F.closeButton.position;G(C.closeButton).css(D({top:A.top+E.top,left:A.left+E.left}));if(B.options.closeButton.shadow){var $=F.closeButtonShadow.position;G(C.closeButtonShadow.container).css(D({top:A.top+$.top,left:A.left+$.left}))}}G(this.container).css(G.extend(D(_.container.dimensions),D(_.container.position))),G(this.bubble).css(D(_.bubble.dimensions)),G(B.contentElement).css(D(_.content.position))}return{prepare:C,remove:I,cleanup:O,build:L,getTooltip:B,getSkin:K,getOrderLayout:M,getBlurOpacity:A,drawBackground:J,order:F}}());var Z={shadows:{},get:function($){if(!$)return null;var _=G($).data("tipped-uid");return _?this.shadows[_]:null},add:function($){this.shadows[$.uid]=$},remove:function(_){var $=this.get(_);$&&(delete this.shadows[$.uid],$.remove())}};G.extend(B.prototype,function(){function A(){return _.get(this.element)[0]}function D(){return H.get(this.element)}function C(){return this.options.opacity/(this.options.blur+1)}function F(){this.cleanup()}function B(){if(!this.container)return;G(this.container).remove(),this.container=null}function E(){this.cleanup();var B=this.getTooltip(),H=this.getSkin(),E=H.getOrderLayout().closeButton.dimensions,K=G.extend({},E),C=this.options.blur;K.width+=C*2,K.height+=C*2,G(H.closeButton).before(G(this.container=document.createElement("div")).addClass("t_CloseButtonShadow")),G(document.body).append(G(this.closeButtonCanvas=document.createElement("canvas"))),S.resize(this.closeButtonCanvas,K),S.init(this.closeButtonCanvas);var I=this.closeButtonCanvas.getContext("2d");I.globalAlpha=this._globalAlpha,G(this.container).append(this.closeButtonCanvas);var A=K.width/2,F=K.height/2,_=E.height/2,J=C+1;for(var D=0;D<=C;D++)I.fillStyle=Y.hex2fill(this.options.color,$.transition(D*(1/J))*(this.options.opacity/J)),I.beginPath(),I.arc(A,F,_+D,P(0),P(360),!0),I.closePath(),I.fill()}return{build:E,remove:F,cleanup:B,getTooltip:A,getSkin:D,getBlurOpacity:C}}());var _={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999},startDelegating:function(){function $(){var $=["click"];Tipped.support.touch&&($.push("touchstart"),G(document.body).bind("click",function(){return void 0})),G.each($,function($,A){G(document.documentElement).delegate(".t_Tooltip .t_Close, .t_Tooltip .close-tooltip",A,function($){$.preventDefault(),$.stopPropagation(),_.getByTooltipElement(G($.target).closest(".t_Tooltip")[0]).hide()})}),G(window).bind("resize scroll",G.proxy(this.onWindowResize,this))}return $}(),onWindowResize:function(){this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=W.delay(G.proxy(function(){var $=this.getVisible();G.each($,function(_,$){$.position()})},this),200)},_getTooltip:function($){var A=G($).data("tipped-uid"),_;if(!A){var B=this.getByTooltipElement(G($).closest(".t_Tooltip")[0]);B&&B.element&&(A=G(B.element).data("tipped-uid"))}if(A&&(_=this.tooltips[A]))return _},findElement:function(_){var $;return W.isElement(_)&&($=this._getTooltip(_)),$&&$.element},get:function($){var _=[];if(W.isElement($)){var A=this._getTooltip($);A&&(_=[A])}else G.each(this.tooltips,function(A,B){B.element&&G(B.element).is($)&&_.push(B)});return _},getByTooltipElement:function($){if(!$)return null;var _=null;return G.each(this.tooltips,function(A,B){B.getState("build")&&B.container===$&&(_=B)}),_},getBySelector:function($){var _=[];return G.each(this.tooltips,function(A,B){B.element&&G(B.element).is($)&&_.push(B)}),_},show:function($){if(W.isElement($)){var _=$,A=this.get(_)[0];A&&A.show()}else G($).each(G.proxy(function(_,$){var A=this.get($)[0];A&&A.show()},this))},hide:function($){if(W.isElement($)){var _=this.get($)[0];_&&_.hide()}else G($).each(G.proxy(function(_,$){var A=this.get($)[0];A&&A.hide()},this))},toggle:function($){if(W.isElement($)){var _=$,A=this.get(_)[0];A&&A.toggle()}else G($).each(G.proxy(function(_,$){var A=this.get($)[0];A&&A.toggle()},this))},hideAll:function(){G.each(this.getVisible(),function(_,$){$.hide()})},refresh:function($){if(W.isElement($)){var _=$,A=this.get(_)[0];A&&A.refresh()}else G($).each(G.proxy(function(_,$){var A=this.get($)[0];A&&A.refresh()},this))},getVisible:function(){var $=[];return G.each(this.tooltips,function(_,A){A.visible()&&$.push(A)}),$},isVisibleByElement:function($){var _=!1;return W.isElement($)&&G.each(this.getVisible()||[],function(A,B){if(B.element==$)return _=!0,!1}),_},getHighestTooltip:function(){var $=0,_;return G.each(this.tooltips,function(A,B){B.zIndex>$&&($=B.zIndex,_=B)}),_},resetZ:function(){this.getVisible().length<=1&&G.each(this.tooltips,function($,A){A.getState("build")&&!A.options.zIndex&&G(A.container).css({zIndex:A.zIndex=+_.options.startingZIndex})})},add:function($){this.tooltips[$.uid]=$},_remove:function($){var A=this._getTooltip($);if(A){var _=G(A.element).data("tipped-uid");delete this.tooltips[_],A.hide(),A.remove()}},remove:function($){W.isElement($)?this._remove($):G($).each(G.proxy(function(_,$){this._remove($)},this))},removeDetached:function(){G.each(this.tooltips,G.proxy(function(_,$){$.element&&!W.element.isAttached($.element)&&this._remove($.element)},this))},setDefaultSkin:function($){this.options.defaultSkin=$||"dark"},setStartingZIndex:function($){this.options.startingZIndex=$||0},createOptions:function(){function C($){var _;return G.type($)=="string"?_={element:E.hideOn&&E.hideOn.element||B.hideOn.element,event:$}:_=A(G.extend({},B.hideOn),$),_}function F(_){return B=Tipped.Skins.base,E=A(G.extend({},B),Tipped.Skins.reset),D=Tipped.Skins.CloseButtons.base,H=A(G.extend({},D),Tipped.Skins.CloseButtons.reset),F=$,$(_)}function $(Q){Q.skin=Q.skin&&Tipped.Skins[Q.skin]?Q.skin:Tipped.Skins[_.options.defaultSkin]?_.options.defaultSkin:"dark";var Y=Q.skin?G.extend({},Tipped.Skins[Q.skin]||Tipped.Skins[_.options.defaultSkin]):{},O=A(G.extend({},E),Y),$=A(G.extend({},O),Q);if($.ajax){var R=E.ajax||{},M=B.ajax;G.type($.ajax)=="boolean"&&($.ajax={cache:R.cache||M.cache,type:R.type||M.type}),$.ajax=A(G.extend({},M),$.ajax)}$.background&&G.type($.background)=="string"&&($.background={color:$.background,opacity:1});if($.border){var U,a=E.border||{},J=B.border;G.type($.border)=="number"?U={size:$.border,color:a.color||J.color,opacity:a.opacity||J.opacity}:U=A(G.extend({},J),$.border),$.border=U.size===0?!1:U}if($.radius){var X;G.type($.radius)=="number"?X={size:$.radius,position:E.radius&&E.radius.position||B.radius.position}:X=A(G.extend({},B.radius),$.radius),$.radius=X.size===0?!1:X}var I,b=b=$.hook&&$.hook.target||G.type($.hook)=="string"&&$.hook||E.hook&&E.hook.target||G.type(E.hook)=="string"&&E.hook||B.hook&&B.hook.target||B.hook,K=$.hook&&$.hook.tooltip||E.hook&&E.hook.tooltip||B.hook&&B.hook.tooltip||_.Position.getInversedPosition(b);$.hook?G.type($.hook)=="string"?I={target:$.hook,tooltip:_.Position.getTooltipPositionFromTarget($.hook)}:(I={tooltip:K,target:b},$.hook.tooltip&&(I.tooltip=$.hook.tooltip),$.hook.target&&(I.target=$.hook.target)):I={tooltip:K,target:b};if($.target=="mouse"){var V=N.getOrientation(I.target);V=="horizontal"?I.target=I.target.replace(/(left|right)/,"middle"):I.target=I.target.replace(/(top|bottom)/,"middle")}$.hook=I;var F;$.target=="mouse"?(F=G.extend({},B.offset),G.extend(F,Tipped.Skins.reset.offset||{}),Q.skin&&G.extend(F,(Tipped.Skins[Q.skin]||Tipped.Skins[_.options.defaultSkin]).offset||{}),F=_.Position.adjustOffsetBasedOnHooks(B.offset,B.hook,I.target,!0),Q.offset&&(F=G.extend(F,Q.offset||{})),$.fadeOut=0):F={x:$.offset.x,y:$.offset.y},$.offset=F;if($.closeButton&&$.closeButtonSkin){var Z=G.extend({},Tipped.Skins.CloseButtons[$.closeButtonSkin]),c=A(G.extend({},H),Z);if(c.states){var W={};G.each(["default","hover"],function(B,F){var C=c.states[F],I=H.states&&H.states[F];if(C.background){var _=I&&I.background;if(G.type(C.background)=="number")C.background={color:_&&_.color||D.states[F].background.color,opacity:C.background};else if(G.type(C.background)=="string"){var E=_&&G.type(_.opacity)=="number"&&_.opacity||D.states[F].background.opacity;C.background={color:C.background,opacity:E}}else C.background=A(G.extend({},D.states[F].background),C.background)}if(C.border){var $=I&&I.border;G.type(C.border)=="number"?C.border={color:$&&$.color||D.states[F].border.color,opacity:C.border}:C.border=A(G.extend({},D.states[F].border),C.border)}})}if(c.shadow){var T=H.shadow&&H.shadow.constructor&&H.shadow.constructor==Object?H.shadow:D.shadow;c.shadow.constructor&&c.shadow.constructor==Object&&(T=A(T,c.shadow)),c.shadow=T}$.closeButton=c}if($.shadow){var P;G.type($.shadow)=="boolean"?E.shadow&&G.type(E.shadow)=="boolean"?P=B.shadow:E.shadow?P=E.shadow:P=B.shadow:P=A(G.extend({},B.shadow),$.shadow||{}),G.type(P.offset)=="number"&&(P.offset={x:P.offset,y:P.offset}),$.shadow=P}if($.stem){var L={};G.type($.stem)=="boolean"?L=A({},B.stem):L=A(A({},B.stem),G.extend({},$.stem)),G.type(L.offset)=="number"&&(L.offset={x:L.offset,y:L.offset}),$.stem=L}$.containment&&(G.type($.containment)=="string"?$.containment={selector:$.containment,flip:!0}:G.type($.containment)=="boolean"&&($.containment=$.containment?{selector:"viewport",flip:!0}:!1)),$.hideOn&&$.hideOn=="click-outside"&&($.hideOnClickOutside=!0,$.hideOn=!1);if($.hideOn)if(G.isArray($.hideOn)){var S=[];G.each($.hideOn,function(_,$){S.push(C($))}),$.hideOn=S}else $.hideOn=[C($.hideOn)];return $.showOn&&G.type($.showOn)=="string"&&($.showOn=[""+$.showOn]),$.padding=0,$.spinner&&(window.Spinners||($.spinner=!1)),$}var B,E,D,H;return F}()};_.Position=function(){function D(B){var A=N.split(B),D=A[1],_=A[2],C=N.getOrientation(B),$=G.extend({horizontal:!0,vertical:!0},arguments[1]||{});return C=="horizontal"?($.vertical&&(D=R[D]),$.horizontal&&(_=R[_])):($.vertical&&(_=R[_]),$.horizontal&&(D=R[D])),D+_}function S($){var _=N.split($);return D(_[1]+R[_[2]])}function E(_,$,B,A){return Math.sqrt(Math.pow(Math.abs(B-_),2)+Math.pow(Math.abs(A-$),2))}function P($,_){G($.container).css({top:_.top+"px",left:_.left+"px"})}function _(C,L,P,H,O){var F=M(C,L,P,H),K=P&&typeof P.type=="string"?P.type:"",E=/move$/.test(K),$=[];if(F.contained.overlap===1)return B(C,F),F;var G=L,Q=H,A={horizontal:!F.contained.horizontal,vertical:!F.contained.vertical},I={horizontal:!1,vertical:!1},_=N.getOrientation(L);if((I.vertical=_=="horizontal"&&A.vertical)||(I.horizontal=_=="vertical"&&A.horizontal)){G=D(L,I),Q=D(H,I),F=M(C,G,P,Q);if(F.contained.overlap===1)return B(C,F),F}return F=J(F,C),B(C,F),F}function J(A,_){var D=I(_),C=D.dimensions,F=D.position,B=H.get(_.element)._cache.hook[A.hook.tooltip].tooltip.dimensions,E=A.position,$={top:0,left:0,sides:[]};return F.left>E.left&&($.left=F.left-E.left,$.sides.push("left"),A.position.left=F.left),F.top>E.top&&($.top=E.top-F.top,$.sides.push("top"),A.position.top=F.top),F.left+C.width<E.left+B.width&&($.left=F.left+C.width-(E.left+B.width),$.sides.push("right"),A.position.left=F.left+C.width-B.width),F.top+C.height<E.top+B.height&&($.top=F.top+C.height-(E.top+B.height),$.sides.push("bottom"),A.position.top=F.top+C.height-B.height),A.adjustment=$,A}function B(_,$){_.setHookPositionAndStemCorrection($.hook.tooltip,$.contained.correction,$.adjustment),P(_,$.position)}function K($){return $&&(/^mouse|click|touch$/.test(typeof $.type=="string"&&$.type||"")||$.pageX>=0)}function U(_,$,A){return _>=$&&_<=A}function O(A,_,D,C){var F=U(A,D,C),B=U(_,D,C);if(F&&B)return _-A;if(F&&!B)return C-A;if(!F&&B)return _-D;var E=U(D,A,_),$=U(C,A,_);return E&&$?C-D:E&&!$?_-D:!E&&$?C-A:0}function A(_,$){return O(_.position.left,_.position.left+_.dimensions.width,$.position.left,$.position.left+$.dimensions.width)*O(_.position.top,_.position.top+_.dimensions.height,$.position.top,$.position.top+$.dimensions.height)}function V(_,$){var B=_.dimensions.width*_.dimensions.height;return B?A(_,$)/B:0}function L(_,$){var B=N.split($),A=N.getOrientation($),C={left:0,top:0};if(A=="horizontal"){switch(B[2]){case"middle":case"center":C.left=0.5*_.width;break;case"right":C.left=_.width}B[1]=="bottom"&&(C.top=_.height)}else{switch(B[2]){case"middle":case"center":C.top=0.5*_.height;break;case"bottom":C.top=_.height}B[1]=="right"&&(C.left=_.width)}return C}function T($){var A=W.element.cumulativeOffset($),B=W.element.cumulativeScrollOffset($),_={top:G(window).scrollTop(),left:G(window).scrollLeft()};return A.left+=-1*(B.left-_.left),A.top+=-1*(B.top-_.top),A}function M(s,p,t,l){var r,k,g,m=H.get(s.element),j=m.options,v=j.offset,i=K(t);if(i||!t){g={width:24,height:24};if(i){var q=W.pointer(t);r={top:q.y-0.5*g.height+6,left:q.x-0.5*g.width+6}}else{var h=s._cache.event;r={top:(h?h.y:0)-0.5*g.height+6,left:(h?h.x:0)-0.5*g.width+6}}s._cache.event={x:r.left,y:r.top}}else r=T(t),g={width:G(t).outerWidth(),height:G(t).outerHeight()};if(j.stem&&j.target!="mouse"){var Y=N.split(l),F=N.split(p),o=N.getOrientation(l),J=m._cache.options,C=m.getStemLayout().border.dimensions,O=J.radius,M=J.border,_=O&&j.radius.position=="background"?O:0,c=O&&j.radius.position=="border"?O:O+M,P=M+_+0.5*j.stem.width-0.5*C.width,E=c>P?c-P:0;sideOffset=Math.ceil(M+_+0.5*j.stem.width+E+j.stem.offset[o=="horizontal"?"x":"y"]);if(o=="horizontal"&&Y[2]=="left"&&F[2]=="left"||Y[2]=="right"&&F[2]=="right")g.width-=sideOffset*2,r.left+=sideOffset;else if(o=="vertical"&&Y[2]=="top"&&F[2]=="top"||Y[2]=="bottom"&&F[2]=="bottom")g.height-=sideOffset*2,r.top+=sideOffset}k=G.extend({},r);var n=i?D(j.hook.tooltip):j.hook.target,A=L(g,n),Q=L(g,l),u={top:r.top+A.top+v.y,left:r.left+A.left+v.x};r={left:r.left+Q.left,top:r.top+Q.top};var d=G.extend({},v);d=X(d,n,l,m.options.target=="mouse"),r.top+=d.y,r.left+=d.x;var m=H.get(s.element),U=m._cache.hook,w=G.extend({},U[p]),Z={top:r.top-w.anchor.top,left:r.left-w.anchor.left};w.tooltip.position=Z;var f={horizontal:!0,vertical:!0},a={x:0,y:0};if(s.options.containment){var R=I(s),S=s.options.shadow?$.get(s.element):m,b=S.getOrderLayout().tooltip.dimensions;f.overlap=V({dimensions:b,position:Z},R);if(f.overlap<1){if(Z.left<R.position.left||Z.left+b.width>R.position.left+R.dimensions.width)f.horizontal=!1,Z.left<R.position.left?a.x=Z.left-R.position.left:a.x=Z.left+b.width-(R.position.left+R.dimensions.width);if(Z.top<R.position.top||Z.top+b.height>R.position.top+R.dimensions.height)f.vertical=!1,Z.top<R.position.top?a.y=Z.top-R.position.top:a.y=Z.top+b.height-(R.position.top+R.dimensions.height)}}else f.overlap=1;f.correction=a;var B=U[p].bubble,e=V({dimensions:g,position:k},{dimensions:B.dimensions,position:{top:Z.top+B.position.top,left:Z.left+B.position.left}});return{position:Z,overlap:{target:e},contained:f,hook:{tooltip:p,target:l}}}function I(_){var C={top:G(window).scrollTop(),left:G(window).scrollLeft()},E=_.options,A=E.target;if(A=="mouse"||A=="self")A=_.element;var D=G(A).closest(E.containment.selector).first()[0];if(!D||E.containment.selector=="viewport")return{dimensions:F.viewport(),position:C};var $=W.element.cumulativeOffset(D),B=W.element.cumulativeScrollOffset(D);return $.left+=-1*(B.left-C.left),$.top+=-1*(B.top-C.top),{dimensions:{width:G(D).innerWidth(),height:G(D).innerHeight()},position:$}}var R={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},C=Q.IE&&Q.IE<9||Q.Gecko&&Q.Gecko<2||Q.WebKit&&Q.WebKit<530,X=function(){var _=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],$={lefttop:0,topleft:0,topmiddle:1,topcenter:1,topright:2,righttop:2,rightmiddle:5,rightcenter:5,rightbottom:8,bottomright:8,bottommiddle:7,bottomcenter:7,bottomleft:6,leftbottom:6,leftmiddle:3,leftcenter:3};return function(E,C,G,B){var F=_[$[C]],A=_[$[G]],D=[Math.floor(Math.abs(F[0]-A[0])*0.5)?-1:1,Math.floor(Math.abs(F[1]-A[1])*0.5)?-1:1];return!N.isCenter(C)&&N.isCenter(G)&&!B&&(N.getOrientation(G)=="horizontal"?D[0]=0:D[1]=0),{x:D[0]*E.x,y:D[1]*E.y}}}();return{get:M,set:_,getInversedPosition:D,getTooltipPositionFromTarget:S,getAbsoluteOffset:T,adjustOffsetBasedOnHooks:X,isPointerEvent:K}}(),_.Position.mouseBuffer={x:0,y:0},G(document).ready(function(){var $=_.Position;G(document).bind("mousemove",function(_){$.mouseBuffer={x:_.pageX,y:_.pageY}})}),_.UpdateQueue=function(){function $(){G(document.body).append(G(document.createElement("div")).addClass("t_UpdateQueue").append(G(document.createElement("div")).addClass("t_Tooltip").append(G(this.container=document.createElement("div")).addClass("t_Content"))))}function A($){return{width:G($).innerWidth(),height:G($).innerHeight()}}function C($){var _=A($),B=$.parentNode;return B&&G(B).css({width:_.width+"px"})&&A($).height>_.height&&_.width++,G(B).css({width:"100%"}),_}function _(A,D,H){this.container||this.build();var B=A.options,E=G.extend({spinner:!1},arguments[3]||{});(B.inline||W.isElement(D))&&!G(D).data("isSpinner")&&(B.inline&&G.type(D)=="string"&&(A.inlineContent=G("#"+D)[0],D=A.inlineContent),!A.inlineMarker&&D&&W.element.isAttached(D)&&(G(A.inlineContent).data("tipped_restore_inline_display",G(A.inlineContent).css("display")),A.inlineMarker=document.createElement("div"),G(A.inlineContent).before(G(A.inlineMarker).hide())));var _=document.createElement("div");G(this.container).append(G(_).addClass("t_ContentContainer t_clearfix").append(D)),W.isElement(D)&&G(D).show(),B.skin&&G(_).addClass("t_Content_"+A.options.skin);var C=G(_).find("img[src]").filter(function(){return!G(this).attr("height")||!G(this).attr("width")});if(C.length>0&&!A.getState("preloading_images")){A.setState("preloading_images",!0),B.spinner&&(!E.spinner&&!A.spinner&&(A.spinner=A.insertSpinner(B.spinner)),A.getState("visible")&&(A.position(),G(A.container).show()),A.spinner.play());var $=0,F=Math.max(8000,(C.length||0)*750);A.clearTimer("preloading_images"),A.setTimer("preloading_images",G.proxy(function(){C.each(function(){this.onload=function(){}});if($>=C.length)return;this._updateTooltip(A,_),H&&H()},this),F),G.each(C,G.proxy(function(E,D){var B=new Image;B.onload=G.proxy(function(){B.onload=function(){};var F=B.width,I=B.height,J=G(D).attr("width"),E=G(D).attr("height");if(!J||!E)!J&&E?(F=Math.round(E*F/I),I=E):!E&&J&&(I=Math.round(J*I/F),F=J),G(D).attr({width:F,height:I}),$++;$==C.length&&(A.clearTimer("preloading_images"),A.spinner&&(A.spinner.remove(),A.spinner=null),A.getState("visible")&&G(A.container).hide(),this._updateTooltip(A,_),H&&H())},this),B.src=D.src},this))}else this._updateTooltip(A,_),H&&H()}function B($,B){var A=C(B),_={width:A.width-(parseInt(G(B).css("padding-left"))||0)-(parseInt(G(B).css("padding-right"))||0),height:A.height-(parseInt(G(B).css("padding-top"))||0)-(parseInt(G(B).css("padding-bottom"))||0)};$.options.maxWidth&&G.type($.options.maxWidth)=="number"&&_.width>$.options.maxWidth&&(G(B).css({width:$.options.maxWidth+"px"}),A=C(B)),$._cache.contentDimensions=A,G($.contentElement).html(B)}return C=W.wrap(C,function(_,$){var A=_($);return A.height,A}),{build:$,update:_,_updateTooltip:B,getMeasureElementDimensions:C}}(),G.extend(O.prototype,function(){function g(_,$,A){this._cache.timers[_]=W.delay($,A)}function V($){return this._cache.timers[$]}function d($){this._cache.timers[$]&&(window.clearTimeout(this._cache.timers[$]),delete this._cache.timers[$])}function h(){G.each(this._cache.timers,function(_,$){window.clearTimeout($)}),this._cache.timers=[]}function X($,B,A,C){B=B;var _=G.proxy(A,C||this);this._cache.events.push({element:$,eventName:B,handler:_}),G($).bind(B,_)}function f(){G.each(this._cache.events,function($,_){G(_.element).unbind(_.eventName,_.handler)})}function U(_,$){this._cache.states[_]=$}function Y($){return this._cache.states[$]}function T(){this.setEvent(this.element,"mouseenter",this.setActive),this.setEvent(this.element,"mouseleave",G.proxy(function($){this.setIdle($)},this)),this.options.showOn&&G.each(this.options.showOn,G.proxy(function($,A){var _=!1;A=="click"&&(this.options.hideOn&&G.each(this.options.hideOn,function(A,$){if($.element=="self"&&$.event=="click")return _=!0,!1}),this.setState("toggles",_)),this.setEvent(this.element,A,A=="click"?_?this.toggle:this.show:G.proxy(function(){this.showDelayed()},this))},this)),this.options.hideOn?G.each(this.options.hideOn,G.proxy(function($,A){var _;switch(A.element){case"self":if(this.getState("toggles")&&A.event=="click")return;_=this.element;break;case"target":_=this.target}if(!_)return;this.setEvent(_,A.event,A.event=="click"?this.hide:G.proxy(function(){this.hideDelayed()},this))},this)):this.options.showDelay&&this.options.showOn&&!G.inArray("click",this.options.showOn)>-1&&this.setEvent(this.element,"mouseleave",G.proxy(function(){this.clearTimer("show")},this));var $=!1;!this.options.fixed&&this.options.showOn&&(($=G.inArray("mousemove",this.options.showOn)>-1)||G.inArray("touchmove",this.options.showOn)>-1)&&this.target=="mouse"&&this.setEvent(this.element,$?"mousemove":"touchmove",function($){if(!this.getState("skinned"))return;this.position($)})}function c(){this.setEvent(this.container,"mouseenter",this.setActive),this.setEvent(this.container,"mouseleave",this.setIdle),this.setEvent(this.container,"mouseenter",G.proxy(function(){this.getTimer("fadeTransition")||this.show()},this)),this.options.hideOn&&G.each(this.options.hideOn,G.proxy(function($,A){var _;switch(A.element){case"tooltip":_=this.container}if(!_)return;this.setEvent(_,A.event,A.event.match(/^(click|mousemove|mouseenter)$/)?this.hide:G.proxy(function(){this.hideDelayed()},this))},this))}function j(_,$,B){var A=H.get(this.element);A&&A.setHookPositionAndStemCorrection(_,$,B)}function S(_){var $=H.get(this.element);$&&$.setHookPosition(_)}function e(){this.setHookPosition(this.options.hook.tooltip)}function Z(){G(this.container=document.createElement("div")).addClass("t_Tooltip"),this.createPreBuildObservers()}function Q(){this.build();var $=H.get(this.element);$?$.build():(new R(this.element),this.setState("skinned",!0))}function k(){if(this.getState("build"))return;G(document.body).append(G(this.container).css({left:"-10000px",top:"-10000px",zIndex:this.zIndex}).append(G(this.skinElement=document.createElement("div")).addClass("t_Skin")).append(G(this.contentElement=document.createElement("div")).addClass("t_Content"))),G(this.container).addClass("t_Tooltip_"+this.options.skin),this.options.hideOnClickOutside&&(G(this.element).addClass("t_hideOnClickOutside"),this.setEvent(document.documentElement,"click",G.proxy(function($){if(!this.visible())return;var _=G($.target).closest(".t_Tooltip, .t_hideOnClickOutside")[0];(!_||_&&_!=this.container&&_!=this.element)&&this.hide()},this))),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),G(this.container).addClass("t_hidden")),this.createPostBuildObservers(),this.setState("build",!0),_.add(this)}function A(){var $=this.content,_;this.inlineMarker&&this.inlineContent&&((_=G(this.inlineContent).data("tipped_restore_inline_display"))&&G(this.inlineContent).css({display:_}),G(this.inlineMarker).before(this.inlineContent).remove(),this.inlineMarker=null)}function P(){W.defer(G.proxy(function(){this.clearEvents()},this)),this.clearTimers(),this._restoreInlineContent(),W.defer(G.proxy(function(){G(this.container).find("img[src]").unbind("load")},this)),H.remove(this.element),this.getState("build")&&this.container&&(G(this.container).remove(),this.container=null);var $="tipped_restore_title",_;(_=G(this.element).data($))&&G(this.element).attr("title",_).removeData("tipped_restore_title"),G(this.element).removeData("tipped-uid")}function l($){var A=G.extend({afterUpdate:this.options.afterUpdate,spinner:!1},arguments[1]||{});this.build(),this.getState("visible")&&G(this.container).hide(),_.UpdateQueue.update(this,$,G.proxy(function(){var $=this.getState("visible");$||this.setState("visible",!0),this._buildSkin(),$||this.setState("visible",!1),this.getState("visible")&&(G(this.container).hide(),this.position(),this.raise(),G(this.container).show()),this.setState("updated",!0),A.afterUpdate&&A.afterUpdate(this.contentElement.firstChild,this.element),A.callback&&A.callback()},this),{spinner:A.spinner})}function N($){if(this.getState("xhr")||this.options.ajax.cache&&this.getState("updated"))return;this.setState("xhr",!0),this.options.spinner&&(this.spinner?this.spinner.play():(this.spinner=this.insertSpinner(this.options.spinner),this.setState("updated",!1)),this.position($)),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null),this._cache.xhr=G.ajax({url:this.content,type:this.options.ajax.type,data:this.options.ajax.data||{},dataType:this.options.ajax.dataType||"html",success:G.proxy(function($,A,_){if(_.status===0)return;this.update(_.responseText,{spinner:this.options.spinner&&this.spinner,callback:G.proxy(function(){this.setState("xhr",!1),this.getState("visible")&&this.options.onShow&&this.options.onShow(this.contentElement.firstChild,this.element),this.spinner&&(this.spinner.remove(),this.spinner=null)},this)})},this)})}function J(){var $=document.createElement("div");G($).data("isSpinner",!0);var A=Spinners.create($,G.extend({},arguments[0]||{})),_=Spinners.getDimensions($);return G($).css(D(_)),this.update($,{afterUpdate:!1,callback:function(){A.play()}}),A}function F(){if(!this.getState("build")||this.options.zIndex)return;var $=_.getHighestTooltip();$&&$!=this&&this.zIndex<=$.zIndex&&G(this.container).css({zIndex:this.zIndex=$.zIndex+1})}function C(){var $=H.get(this.element);$&&($.refresh(),this.visible()&&this.position())}function K(_){if(!Tipped.support.cssTransitions)return;_=_||0;var $=this.container.style;$.MozTransitionDuration=_+"ms",$.webkitTransitionDuration=_+"ms",$.OTransitionDuration=_+"ms",$.transitionDuration=_+"ms"}function I($){this.clearTimer("hide"),this.clearTimer("fadeTransition");if(this.getState("visible")||this.getTimer("show"))return;this.setTimer("show",G.proxy(function(){this.clearTimer("show"),this.show($)},this),this.options.showDelay||1)}function $($){this.clearTimer("hide"),this.clearTimer("fadeTransition");if(this.visible())return;if(G.type(this.content)=="function"||G.type(this._cache.contentFunction)=="function"){G.type(this._cache.contentFunction)!="function"&&(this._cache.contentFunction=this.content);var A=this._cache.contentFunction(this.element)||!1;A!=this._cache.fnCallContent&&(this._cache.fnCallContent=A,this.setState("updated",!1),this._restoreInlineContent()),this.content=A;if(!A)return}this.options.hideOthers&&_.hideAll(),this.setState("visible",!0),this.options.ajax?this.ajaxUpdate($):this.getState("updated")||this.update(this.content),this.getState("skinned")&&this.position($),this.raise(),this.options.hideAfter&&W.defer(G.proxy(function(){this.setActive()},this)),G.type(this.options.onShow)=="function"&&(!this.options.ajax||this.options.ajax&&this.options.ajax.cache&&this.getState("updated"))&&this.options.onShow(this.contentElement.firstChild,this.element),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),G(this.container).addClass("t_visible").removeClass("t_hidden")),G(this.container).show()}function O(){this.clearTimer("show");if(!this.getState("visible"))return;this.setState("visible",!1),Tipped.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)?(this.setFadeDuration(this.options.fadeOut),G(this.container).removeClass("t_visible").addClass("t_hidden"),this.setTimer("fadeTransition",G.proxy(this._hide,this),this.options.fadeOut)):this._hide(),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.setState("xhr",!1))}function L(){if(!this.getState("build"))return;G(this.container).css({left:"-10000px",top:"-10000px"}),_.resetZ(),G.type(this.options.onHide)=="function"&&!this.spinner&&this.options.onHide(this.contentElement.firstChild,this.element)}function E(){this.clearTimer("show");if(this.getTimer("hide")||!this.getState("visible"))return;this.setTimer("hide",G.proxy(function(){this.clearTimer("hide"),this.clearTimer("fadeTransition"),this.hide()},this),this.options.hideDelay||1)}function a($){this[this.visible()?"hide":"show"]($)}function B(){return this.getState("visible")}function M(){this.setState("active",!0),this.getState("visible")&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")}function i(){this.setState("active",!1),this.options.hideAfter&&this.setTimer("idle",G.proxy(function(){this.clearTimer("idle"),this.getState("active")||this.hide()},this),this.options.hideAfter)}var b=function(A){if(!this.visible())return;var D;if(this.options.target=="mouse"){var F=_.Position.isPointerEvent(A),B=_.Position.mouseBuffer;if(!F){if(B.x||B.y)this._cache.event={x:B.x,y:B.y};else if(!this._cache.event){var E=_.Position.getAbsoluteOffset(this.element);this._cache.event={x:E.left,y:E.top}}D=null}else B.x||B.y?(this._cache.event={x:B.x,y:B.y},D=null):D=A}else D=this.target;_.Position.set(this,this.options.hook.tooltip,D,this.options.hook.target);if(A&&_.Position.isPointerEvent(A)){var $={width:G(this.container).outerWidth(),height:G(this.container).outerHeight()},C=W.pointer(A),E=W.element.cumulativeOffset(this.container);C.x>=E.left&&C.x<=E.left+$.width&&C.y>=E.top&&C.y<=E.top+$.height&&W.defer(G.proxy(function(){this.clearTimer("hide")},this))}};return{build:k,_preBuild:Z,_buildSkin:Q,createPreBuildObservers:T,createPostBuildObservers:c,show:$,hide:O,_hide:L,toggle:a,visible:B,showDelayed:I,hideDelayed:E,setFadeDuration:K,setState:U,getState:Y,setActive:M,setIdle:i,getTimer:V,setTimer:g,clearTimer:d,clearTimers:h,setEvent:X,clearEvents:f,setHookPositionAndStemCorrection:j,setHookPosition:S,resetHookPosition:e,refresh:C,update:l,ajaxUpdate:N,insertSpinner:J,position:b,raise:F,_restoreInlineContent:A,remove:P}}()),Tipped.init()})(jQuery)
